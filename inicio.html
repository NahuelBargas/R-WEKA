<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <title>Usando Weka desde R, inicio</title>
    <meta charset="utf-8" />
    <meta name="author" content="Nahuel Bargas" />
    <meta name="date" content="2020-11-21" />
    <script src="inicio_files/header-attrs/header-attrs.js"></script>
    <link href="inicio_files/remark-css/shinobi.css" rel="stylesheet" />
    <link href="inicio_files/remark-css/ninjutsu.css" rel="stylesheet" />
    <link href="inicio_files/remark-css/hygge.css" rel="stylesheet" />
    <link href="inicio_files/remark-css/uo-fonts.css" rel="stylesheet" />
    <link href="inicio_files/font-awesome-animation/font-awesome-animation-emi.css" rel="stylesheet" />
    <script src="inicio_files/fontawesome/js/fontawesome-all.min.js"></script>
    <script src="inicio_files/htmlwidgets/htmlwidgets.js"></script>
    <script src="inicio_files/jquery/jquery.min.js"></script>
    <script src="inicio_files/proj4js/proj4.js"></script>
    <link href="inicio_files/highcharts/css/motion.css" rel="stylesheet" />
    <script src="inicio_files/highcharts/highcharts.js"></script>
    <script src="inicio_files/highcharts/highcharts-3d.js"></script>
    <script src="inicio_files/highcharts/highcharts-more.js"></script>
    <script src="inicio_files/highcharts/modules/stock.js"></script>
    <script src="inicio_files/highcharts/modules/map.js"></script>
    <script src="inicio_files/highcharts/modules/annotations.js"></script>
    <script src="inicio_files/highcharts/modules/data.js"></script>
    <script src="inicio_files/highcharts/modules/drilldown.js"></script>
    <script src="inicio_files/highcharts/modules/item-series.js"></script>
    <script src="inicio_files/highcharts/modules/offline-exporting.js"></script>
    <script src="inicio_files/highcharts/modules/overlapping-datalabels.js"></script>
    <script src="inicio_files/highcharts/modules/exporting.js"></script>
    <script src="inicio_files/highcharts/modules/export-data.js"></script>
    <script src="inicio_files/highcharts/modules/funnel.js"></script>
    <script src="inicio_files/highcharts/modules/heatmap.js"></script>
    <script src="inicio_files/highcharts/modules/treemap.js"></script>
    <script src="inicio_files/highcharts/modules/sankey.js"></script>
    <script src="inicio_files/highcharts/modules/dependency-wheel.js"></script>
    <script src="inicio_files/highcharts/modules/organization.js"></script>
    <script src="inicio_files/highcharts/modules/solid-gauge.js"></script>
    <script src="inicio_files/highcharts/modules/streamgraph.js"></script>
    <script src="inicio_files/highcharts/modules/sunburst.js"></script>
    <script src="inicio_files/highcharts/modules/vector.js"></script>
    <script src="inicio_files/highcharts/modules/wordcloud.js"></script>
    <script src="inicio_files/highcharts/modules/xrange.js"></script>
    <script src="inicio_files/highcharts/modules/tilemap.js"></script>
    <script src="inicio_files/highcharts/modules/venn.js"></script>
    <script src="inicio_files/highcharts/modules/gantt.js"></script>
    <script src="inicio_files/highcharts/modules/timeline.js"></script>
    <script src="inicio_files/highcharts/modules/parallel-coordinates.js"></script>
    <script src="inicio_files/highcharts/modules/bullet.js"></script>
    <script src="inicio_files/highcharts/modules/coloraxis.js"></script>
    <script src="inicio_files/highcharts/modules/dumbbell.js"></script>
    <script src="inicio_files/highcharts/modules/lollipop.js"></script>
    <script src="inicio_files/highcharts/modules/series-label.js"></script>
    <script src="inicio_files/highcharts/plugins/motion.js"></script>
    <script src="inicio_files/highcharts/custom/reset.js"></script>
    <script src="inicio_files/highcharts/modules/boost.js"></script>
    <script src="inicio_files/highchart-binding/highchart.js"></script>
    <meta name="description" content="Presento una introducción
    al mundo Weka y su implementación en R a través del paquete RWeka. 
    Utilizo Xaringan para elaborar las slides. >

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Usando Weka desde R" />
    <meta name="twitter:description" content="Presento una introducción
    al mundo Weka y su implementación en R a través del paquete RWeka. 
    Utilizo Xaringan para elaborar las slides." />

    <link rel="stylesheet" href="archivos/social-circles.min2.css">

    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        extensions: ["tex2jax.js"],
        jax: ["input/TeX", "output/HTML-CSS"],
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
          processEscapes: true
        },
        "HTML-CSS": { fonts: ["TeX"] }
      });
    </script>
    <script type="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js">
    </script>
    <link rel="stylesheet" href="archivos\footer-header.css" type="text/css" />
    <link rel="stylesheet" href="archivos\my-style.css" type="text/css" />
    <link rel="stylesheet" href="archivos\style6.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: top, left, inverse, title-slide

# Usando Weka desde R, inicio
### Nahuel Bargas
### 2020-11-21

---


layout: true

&lt;div class="my-header"&gt;&lt;/div&gt;

&lt;div class="my-footer"&gt;&lt;/div&gt;&lt;span&gt;
.footnote[ <span class="faa-parent animated-hover">&lt;i class="fab  fa-twitter faa-wrench " style=" color:skyblue;"&gt;&lt;/i&gt;</span> .white[@Nahuel_Sef] .white[-------Sígueme-------]  <span class="faa-parent animated-hover">&lt;i class="fab  fa-github faa-wrench " style=" color:skyblue;"&gt;&lt;/i&gt;</span> .white[@NahuelBargas]]
&lt;/span&gt;
---




&lt;style type="text/css"&gt;
.azul {
  background-color: skyblue;
  border: 1px solid blue;
  font-weight: bold;
}
&lt;/style&gt;

# Crossover


- .large[.green[Weka]] y .large[.blue[R]] nacieron en el mismo país, Nueva Zelanda.

-  .large[.blue[R]]([R Core Team (2018)](https://www.R-project.org/)) es un sistema para realizar análisis estadísticos,econométricos,
 minería de datos y gráficos de gran calidad, entre otras posibilidades. Gracias a la adición de paquetes con características 
 adicionales, su espectro de alcance tiene varias ramificaciones. Es de código abierto y cuenta con una gran cantidad de autores 
 a lo largo del mundo que contribuyern a su mantenimiento y actualización . 


<div id="htmlwidget-ae96691b7c445795216b" style="width:650px;height:380px;" class="highchart html-widget"></div>
<script type="application/json" data-for="htmlwidget-ae96691b7c445795216b">{"x":{"hc_opts":{"chart":{"reflow":true,"zoomType":"xy","width":650,"height":380},"title":{"text":null},"yAxis":{"title":{"text":null}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"series":[{"mapData":{"title":"New Zealand","version":"1.1.3","type":"FeatureCollection","copyright":"Copyright (c) 2020 Highsoft AS, Based on data from Natural Earth","copyrightShort":"Natural Earth","copyrightUrl":"http://www.naturalearthdata.com","crs":{"type":"name","properties":{"name":"urn:ogc:def:crs:EPSG:2193"}},"hc-transform":{"default":{"crs":"+proj=tmerc +lat_0=0 +lon_0=173 +k=0.9996 +x_0=1600000 +y_0=10000000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs","scale":0.000447564544128,"jsonres":15.5,"jsonmarginX":-999,"jsonmarginY":9851,"xoffset":1092700.98409,"yoffset":6221166.09283}},"features":[{"type":"Feature","id":"NZ.AU","properties":{"hc-group":"admin1","hc-middle-x":0.31,"hc-middle-y":0.41,"hc-key":"nz-au","hc-a2":"AU","labelrank":"7","hasc":"NZ.AU","alt-name":"T?maki-makau-rau","woe-id":"15021756","subregion":null,"fips":"NZE7","postal-code":"AU","name":"Auckland","country":"New Zealand","type-en":"Unitary Authority","region":"North Island","longitude":"174.597","woe-name":"Auckland","latitude":"-36.6334","woe-label":"Auckland, NZ, New Zealand","type":"Unitary Authority"},"geometry":{"type":"MultiPolygon","coordinates":[[[[3871,7816],[3871,7778],[3832,7773],[3794,7786],[3779,7806],[3765,7797],[3770,7829],[3806,7828],[3824,7812],[3877,7850],[3892,7829],[3871,7816]]],[[[3705,8071],[3677,8079],[3682,8121],[3699,8108],[3705,8071]]],[[[3849,8239],[3818,8256],[3852,8278],[3864,8249],[3849,8239]]],[[[4046,8312],[4072,8283],[4099,8272],[4080,8222],[4118,8169],[4091,8137],[4081,8170],[4056,8162],[4046,8201],[4025,8197],[3975,8238],[3998,8241],[4005,8283],[3977,8309],[4011,8319],[3999,8332],[4004,8359],[4032,8354],[4046,8312]]],[[[3554,8317],[3615,8230],[3657,8204],[3645,8160],[3691,8146],[3610,8145],[3629,8082],[3626,8043],[3604,8095],[3588,8102],[3599,8068],[3583,8054],[3604,8033],[3582,8002],[3589,7962],[3606,7947],[3672,7947],[3625,7921],[3589,7933],[3611,7900],[3646,7784],[3616,7798],[3599,7790],[3575,7835],[3534,7818],[3529,7801],[3562,7801],[3541,7784],[3556,7768],[3559,7721],[3571,7720],[3589,7758],[3613,7770],[3680,7762],[3694,7753],[3675,7709],[3684,7679],[3695,7688],[3713,7772],[3735,7717],[3733,7697],[3771,7707],[3759,7738],[3806,7733],[3805,7681],[3823,7664],[3862,7685],[3905,7687],[3931,7669],[3956,7634],[3922,7617],[3902,7630],[3874,7560],[3869,7506],[3812,7499],[3675,7468],[3622,7453],[3585,7428],[3549,7423],[3511,7531],[3481,7602],[3534,7606],[3549,7596],[3540,7575],[3570,7514],[3572,7489],[3591,7461],[3589,7511],[3620,7520],[3578,7532],[3621,7565],[3624,7546],[3651,7576],[3680,7588],[3711,7556],[3715,7596],[3662,7616],[3647,7653],[3631,7634],[3622,7659],[3652,7692],[3571,7698],[3534,7680],[3521,7644],[3495,7650],[3458,7620],[3439,7640],[3415,7728],[3392,7836],[3361,7895],[3277,8004],[3259,8039],[3255,8075],[3273,8096],[3268,8053],[3284,8082],[3302,8079],[3337,8016],[3356,8007],[3352,7984],[3384,7971],[3360,7963],[3364,7936],[3389,7925],[3390,7946],[3408,7909],[3421,7924],[3432,7972],[3434,8022],[3421,8025],[3421,8065],[3434,8083],[3417,8109],[3433,8134],[3413,8146],[3385,8123],[3348,8120],[3315,8138],[3325,8176],[3350,8168],[3389,8174],[3469,8225],[3462,8245],[3543,8310],[3554,8317]]]]}},{"type":"Feature","id":"NZ.MA","properties":{"hc-group":"admin1","hc-middle-x":0.41,"hc-middle-y":0.59,"hc-key":"nz-ma","hc-a2":"MA","labelrank":"6","hasc":"NZ.MA","alt-name":null,"woe-id":"15021759","subregion":null,"fips":"NZF4","postal-code":"MA","name":"Marlborough District","country":"New Zealand","type-en":"Unitary Authority","region":"South Island","longitude":"173.656","woe-name":"Marlborough","latitude":"-41.638","woe-label":"Marlborough, NZ, New Zealand","type":"Unitary Authority"},"geometry":{"type":"MultiPolygon","coordinates":[[[[3336,4464],[3315,4417],[3283,4417],[3255,4397],[3216,4397],[3253,4410],[3284,4444],[3294,4433],[3316,4451],[3292,4476],[3334,4489],[3336,4464]]],[[[3080,4748],[3059,4679],[3045,4679],[2991,4634],[2974,4638],[2979,4701],[3003,4676],[2997,4704],[3004,4757],[3019,4748],[3038,4764],[3044,4734],[3088,4789],[3080,4748]]],[[[2864,4535],[2882,4535],[2897,4511],[2952,4540],[2944,4564],[2921,4549],[2918,4566],[2958,4596],[2988,4601],[3019,4634],[3016,4598],[3030,4595],[3054,4632],[3095,4652],[3119,4647],[3125,4627],[3086,4632],[3078,4600],[3054,4595],[3056,4575],[2976,4568],[2990,4553],[2969,4500],[2981,4492],[3003,4532],[3062,4539],[3059,4511],[3035,4520],[3034,4492],[2997,4458],[3029,4434],[3020,4400],[2964,4373],[2980,4353],[3064,4399],[3036,4410],[3073,4412],[3091,4403],[3150,4422],[3180,4440],[3088,4441],[3042,4429],[3040,4465],[3061,4483],[3073,4515],[3093,4510],[3089,4463],[3112,4504],[3129,4504],[3117,4527],[3127,4542],[3114,4563],[3103,4535],[3074,4568],[3094,4568],[3103,4600],[3159,4560],[3188,4568],[3211,4595],[3227,4575],[3229,4549],[3211,4541],[3235,4524],[3281,4573],[3294,4566],[3259,4505],[3254,4483],[3229,4461],[3221,4500],[3200,4479],[3228,4429],[3192,4405],[3153,4403],[3128,4388],[3084,4384],[3064,4361],[3112,4365],[3140,4383],[3188,4392],[3210,4373],[3267,4389],[3291,4407],[3274,4370],[3243,4326],[3202,4308],[3217,4337],[3178,4328],[3132,4249],[3133,4177],[3166,4145],[3167,4185],[3198,4129],[3208,4078],[3228,4017],[3266,4011],[3262,3993],[3210,3900],[3142,3829],[3122,3854],[3046,3871],[2998,3861],[2972,3845],[2942,3872],[2925,3839],[2843,3785],[2806,3753],[2789,3687],[2771,3654],[2699,3623],[2635,3563],[2643,3541],[2632,3508],[2607,3477],[2557,3446],[2507,3473],[2512,3505],[2489,3523],[2467,3566],[2437,3579],[2434,3619],[2416,3670],[2368,3691],[2352,3719],[2371,3786],[2429,3860],[2447,3939],[2485,4003],[2518,4033],[2621,4168],[2661,4177],[2675,4212],[2686,4280],[2720,4299],[2747,4325],[2798,4403],[2849,4464],[2864,4535]]]]}},{"type":"Feature","id":"NZ.SO","properties":{"hc-group":"admin1","hc-middle-x":0.53,"hc-middle-y":0.51,"hc-key":"nz-so","hc-a2":"SO","labelrank":"6","hasc":"NZ.SO","alt-name":"Murihiku","woe-id":"15021750","subregion":null,"fips":"NZF8","postal-code":"SO","name":"Southland","country":"New Zealand","type-en":"Regional Council","region":"South Island","longitude":"167.928","woe-name":"Southland","latitude":"-45.6455","woe-label":"Southland, NZ, New Zealand","type":"Regional Council"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-394,-332],[-410,-328],[-393,-307],[-375,-315],[-394,-332]]],[[[-287,22],[-302,21],[-299,47],[-276,42],[-287,22]]],[[[176,51],[159,74],[183,97],[192,80],[176,51]]],[[[-259,-282],[-267,-275],[-307,-305],[-297,-315],[-250,-296],[-276,-340],[-284,-322],[-299,-344],[-354,-355],[-351,-302],[-341,-284],[-303,-262],[-313,-256],[-313,-202],[-299,-177],[-250,-158],[-258,-103],[-236,-97],[-219,-55],[-230,-22],[-254,12],[-256,52],[-244,98],[-194,99],[-174,114],[-128,84],[-76,20],[-22,-27],[-33,-53],[-81,-51],[-78,-40],[-117,-47],[-112,-70],[-135,-108],[-122,-106],[-94,-74],[-38,-97],[-42,-118],[4,-99],[21,-119],[16,-151],[-9,-158],[23,-180],[-15,-179],[-11,-198],[-112,-224],[-159,-277],[-193,-263],[-219,-267],[-233,-242],[-256,-259],[-259,-282]]],[[[-897,483],[-906,503],[-891,515],[-880,505],[-897,483]]],[[[-839,788],[-896,760],[-921,763],[-870,787],[-839,788]]],[[[-805,787],[-827,789],[-818,809],[-785,808],[-805,787]]],[[[-870,882],[-853,834],[-859,804],[-880,794],[-891,809],[-907,792],[-917,839],[-935,851],[-966,808],[-985,797],[-958,867],[-896,888],[-870,882]]],[[[-724,1146],[-750,1143],[-793,1165],[-806,1190],[-770,1259],[-749,1196],[-724,1146]]],[[[-56,1817],[-85,1790],[-120,1731],[-139,1643],[-141,1553],[-151,1523],[-139,1469],[-95,1413],[-63,1401],[-61,1386],[-77,1320],[-73,1297],[-43,1237],[-32,1193],[-4,1180],[53,1185],[146,1235],[229,1116],[269,1108],[292,1120],[347,1210],[371,1224],[391,1214],[444,1160],[455,1128],[433,1106],[400,1005],[370,934],[362,854],[372,798],[398,774],[409,738],[416,669],[447,625],[454,579],[480,516],[481,466],[469,400],[487,325],[510,296],[498,243],[498,202],[477,165],[451,167],[430,183],[417,148],[332,173],[311,237],[234,216],[241,233],[190,240],[207,199],[179,188],[87,192],[107,217],[163,210],[135,228],[88,224],[55,238],[56,209],[80,176],[32,205],[3,246],[37,245],[64,270],[68,291],[51,333],[30,283],[19,284],[-33,377],[-58,389],[-117,372],[-115,350],[-175,355],[-182,340],[-226,332],[-288,385],[-264,409],[-308,465],[-318,487],[-351,490],[-377,505],[-447,509],[-471,428],[-497,425],[-529,406],[-562,414],[-593,402],[-643,426],[-707,430],[-781,422],[-817,426],[-849,446],[-867,479],[-847,491],[-812,544],[-793,598],[-731,642],[-743,644],[-809,603],[-816,564],[-833,541],[-844,569],[-849,544],[-903,521],[-890,549],[-886,591],[-862,615],[-817,633],[-810,651],[-845,633],[-874,643],[-847,682],[-855,700],[-904,617],[-954,597],[-976,574],[-989,596],[-999,706],[-989,732],[-841,757],[-799,774],[-775,773],[-714,823],[-709,839],[-739,826],[-779,828],[-828,809],[-841,813],[-818,852],[-782,871],[-843,861],[-844,909],[-776,940],[-732,932],[-755,953],[-705,980],[-702,999],[-771,956],[-815,943],[-844,924],[-882,921],[-890,946],[-874,991],[-863,1051],[-840,1066],[-785,1041],[-761,1037],[-778,1074],[-793,1061],[-825,1078],[-846,1101],[-809,1156],[-764,1122],[-777,1100],[-730,1114],[-707,1086],[-730,1048],[-706,1047],[-686,1086],[-657,1063],[-640,1020],[-621,1015],[-626,1040],[-657,1075],[-716,1126],[-700,1143],[-636,1164],[-611,1134],[-618,1163],[-611,1191],[-665,1173],[-719,1170],[-742,1218],[-749,1261],[-735,1283],[-705,1276],[-681,1247],[-656,1251],[-711,1300],[-724,1300],[-693,1351],[-658,1315],[-654,1285],[-638,1316],[-605,1314],[-658,1339],[-675,1364],[-658,1395],[-578,1372],[-654,1412],[-643,1434],[-609,1465],[-586,1469],[-598,1484],[-558,1513],[-540,1515],[-518,1472],[-524,1442],[-509,1400],[-480,1402],[-503,1446],[-505,1477],[-526,1529],[-521,1556],[-487,1578],[-463,1553],[-472,1504],[-456,1489],[-444,1543],[-474,1602],[-453,1617],[-410,1588],[-451,1632],[-439,1651],[-410,1662],[-400,1683],[-369,1710],[-337,1716],[-284,1678],[-265,1644],[-268,1686],[-308,1715],[-327,1789],[-273,1864],[-226,1913],[-230,1938],[-180,1941],[-172,1972],[-115,1987],[-75,1968],[-37,1911],[-56,1817]]]]}},{"type":"Feature","id":"NZ.WK","properties":{"hc-group":"admin1","hc-middle-x":0.39,"hc-middle-y":0.48,"hc-key":"nz-wk","hc-a2":"WK","labelrank":"7","hasc":"NZ.WK","alt-name":"Waikato","woe-id":"15021765","subregion":null,"fips":null,"postal-code":"WK","name":"Waikato","country":"New Zealand","type-en":"Regional Council","region":"North Island","longitude":"175.445","woe-name":"Waikato","latitude":"-38.0409","woe-label":"Waikato, NZ, New Zealand","type":"Regional Council"},"geometry":{"type":"MultiPolygon","coordinates":[[[[4279,7918],[4256,7924],[4241,7960],[4258,7964],[4279,7918]]],[[[3538,6313],[3496,6336],[3511,6391],[3515,6524],[3543,6601],[3556,6657],[3568,6746],[3560,6799],[3602,6798],[3643,6759],[3639,6782],[3691,6786],[3667,6829],[3638,6832],[3611,6813],[3615,6845],[3670,6888],[3650,6918],[3626,6877],[3608,6904],[3614,6977],[3631,7013],[3660,7023],[3728,7027],[3711,7043],[3724,7080],[3690,7050],[3651,7059],[3615,7211],[3581,7297],[3575,7340],[3613,7362],[3641,7426],[3609,7405],[3591,7374],[3569,7381],[3549,7423],[3585,7428],[3622,7453],[3675,7468],[3812,7499],[3869,7506],[3874,7560],[3902,7630],[3922,7617],[3956,7634],[3959,7595],[3950,7542],[3978,7481],[4027,7466],[4079,7484],[4099,7499],[4107,7454],[4126,7443],[4110,7528],[4098,7562],[4100,7603],[4081,7667],[4043,7712],[4027,7743],[4068,7745],[4078,7757],[4040,7764],[4066,7779],[4049,7786],[4091,7802],[4075,7811],[4059,7866],[4072,7905],[4036,7954],[4002,7970],[3984,8003],[3989,8043],[4037,8044],[4077,7999],[4093,8017],[4111,7982],[4095,7948],[4133,7932],[4137,7882],[4153,7864],[4144,7840],[4156,7816],[4182,7834],[4250,7858],[4287,7849],[4278,7824],[4260,7826],[4245,7801],[4213,7783],[4193,7754],[4212,7719],[4227,7735],[4223,7759],[4270,7767],[4301,7689],[4302,7615],[4319,7570],[4297,7526],[4317,7519],[4320,7477],[4299,7504],[4306,7454],[4330,7413],[4338,7346],[4313,7337],[4309,7308],[4281,7270],[4293,7247],[4256,7264],[4243,7242],[4257,7218],[4250,7188],[4259,7143],[4305,7037],[4311,6974],[4331,6943],[4325,6909],[4339,6863],[4379,6849],[4385,6828],[4416,6802],[4460,6794],[4495,6754],[4504,6672],[4534,6611],[4625,6566],[4645,6520],[4629,6460],[4616,6439],[4580,6458],[4557,6418],[4520,6420],[4539,6472],[4525,6482],[4496,6467],[4456,6463],[4417,6501],[4388,6465],[4370,6461],[4370,6428],[4454,6395],[4463,6383],[4440,6321],[4475,6262],[4451,6247],[4399,6265],[4388,6222],[4424,6150],[4440,6135],[4482,6127],[4491,6057],[4462,6010],[4431,5974],[4379,5969],[4307,5970],[4286,5944],[4254,5928],[4228,5875],[4204,5864],[4124,5869],[4073,5886],[4071,5916],[4100,5976],[4108,6011],[4096,6039],[4122,6093],[4122,6110],[4083,6109],[4062,6122],[4073,6172],[4058,6205],[4070,6248],[4043,6285],[4065,6317],[4088,6374],[4116,6415],[4109,6424],[4072,6408],[4027,6435],[3940,6428],[3930,6438],[3912,6413],[3863,6385],[3800,6390],[3748,6368],[3710,6361],[3690,6299],[3646,6279],[3612,6309],[3538,6313]]]]}},{"type":"Feature","id":"NZ.WG","properties":{"hc-group":"admin1","hc-middle-x":0.51,"hc-middle-y":0.36,"hc-key":"nz-wg","hc-a2":"WG","labelrank":"6","hasc":"NZ.WG","alt-name":"Te Whanga-nui-a-Tara","woe-id":"15021762","subregion":null,"fips":null,"postal-code":"WG","name":"Wellington","country":"New Zealand","type-en":"Regional Council","region":"North Island","longitude":"175.2","woe-name":"Wellington","latitude":"-41.2275","woe-label":"Wellington, NZ, New Zealand","type":"Regional Council"},"geometry":{"type":"MultiPolygon","coordinates":[[[[3628,4654],[3617,4664],[3644,4701],[3662,4697],[3628,4654]]],[[[4444,4697],[4401,4596],[4372,4585],[4341,4538],[4307,4440],[4245,4360],[4154,4289],[4132,4267],[4067,4231],[3937,4134],[3897,4119],[3867,4091],[3804,4090],[3783,4170],[3794,4228],[3785,4241],[3716,4270],[3686,4269],[3643,4229],[3622,4227],[3602,4244],[3609,4265],[3604,4311],[3622,4357],[3619,4394],[3574,4391],[3549,4355],[3584,4340],[3565,4310],[3530,4302],[3476,4323],[3455,4346],[3457,4388],[3494,4398],[3542,4447],[3557,4479],[3592,4501],[3610,4494],[3594,4534],[3638,4566],[3654,4589],[3677,4662],[3729,4725],[3808,4736],[3884,4732],[3928,4743],[3976,4724],[4069,4732],[4275,4755],[4354,4749],[4407,4735],[4444,4697]]]]}},{"type":"Feature","id":"NZ.4680","properties":{"hc-group":"admin1","hc-middle-x":0.41,"hc-middle-y":0.37,"hc-key":"nz-4680","hc-a2":"BI","labelrank":"20","hasc":"-99","alt-name":null,"woe-id":"-99","subregion":null,"fips":null,"postal-code":null,"name":"Bounty Islands","country":"New Zealand","type-en":null,"region":"New Zealand Outlying Islands","longitude":"179.069","woe-name":null,"latitude":"-47.7136","woe-label":null,"type":null},"geometry":{"type":"Polygon","coordinates":[[[5676,-704],[5670,-706],[5670,-704],[5675,-702],[5676,-704]]]}},{"type":"Feature","id":"NZ.6943","properties":{"hc-group":"admin1","hc-middle-x":0.6,"hc-middle-y":0.34,"hc-key":"nz-6943","hc-a2":"TK","labelrank":"20","hasc":"-99","alt-name":null,"woe-id":"-99","subregion":null,"fips":null,"postal-code":null,"name":"Three Kings Islands","country":"New Zealand","type-en":null,"region":"New Zealand Outlying Islands","longitude":"172.135","woe-name":null,"latitude":"-34.1566","woe-label":null,"type":null},"geometry":{"type":"Polygon","coordinates":[[[1961,9851],[1974,9847],[1969,9834],[1955,9847],[1961,9851]]]}},{"type":"Feature","id":"NZ.6947","properties":{"hc-group":"admin1","hc-middle-x":0.77,"hc-middle-y":0.44,"hc-key":"nz-6947","hc-a2":"TS","labelrank":"20","hasc":"-99","alt-name":null,"woe-id":"-99","subregion":null,"fips":null,"postal-code":null,"name":"The Snares","country":"New Zealand","type-en":null,"region":"New Zealand Outlying Islands","longitude":"166.608","woe-name":null,"latitude":"-48.0227","woe-label":null,"type":null},"geometry":{"type":"Polygon","coordinates":[[[-774,-974],[-768,-999],[-786,-980],[-805,-980],[-772,-946],[-774,-974]]]}},{"type":"Feature","id":"NZ.CA","properties":{"hc-group":"admin1","hc-middle-x":0.43,"hc-middle-y":0.52,"hc-key":"nz-ca","hc-a2":"CA","labelrank":"6","hasc":"NZ.CA","alt-name":"Waitaha","woe-id":"15021751","subregion":null,"fips":"NZE9","postal-code":"CA","name":"Canterbury","country":"New Zealand","type-en":"Regional Council","region":"South Island","longitude":"171.813","woe-name":"Canterbury","latitude":"-43.4","woe-label":"Canterbury, NZ, New Zealand","type":"Regional Council"},"geometry":{"type":"Polygon","coordinates":[[[3122,3854],[3142,3829],[3097,3782],[3068,3721],[3067,3684],[3030,3621],[2947,3550],[2922,3516],[2937,3477],[2929,3466],[2902,3488],[2869,3466],[2839,3430],[2804,3338],[2779,3325],[2791,3314],[2721,3162],[2703,3153],[2705,3113],[2683,3074],[2653,3053],[2607,3037],[2599,3014],[2567,2987],[2491,2968],[2414,2908],[2377,2834],[2383,2813],[2376,2734],[2368,2719],[2380,2654],[2396,2609],[2392,2585],[2426,2575],[2374,2565],[2342,2546],[2376,2533],[2388,2549],[2438,2552],[2451,2523],[2461,2565],[2476,2556],[2478,2515],[2502,2536],[2534,2518],[2557,2539],[2580,2497],[2585,2444],[2572,2381],[2541,2375],[2537,2354],[2518,2354],[2507,2391],[2499,2456],[2483,2457],[2485,2371],[2503,2343],[2452,2344],[2418,2360],[2378,2403],[2388,2428],[2270,2401],[2198,2379],[2196,2390],[2324,2435],[2297,2453],[2270,2454],[2239,2482],[2195,2469],[2180,2442],[2181,2385],[2167,2368],[2102,2358],[2092,2346],[1998,2299],[1891,2219],[1857,2216],[1809,2182],[1780,2174],[1762,2154],[1716,2132],[1643,2059],[1605,2044],[1570,1972],[1566,1905],[1543,1874],[1540,1850],[1514,1836],[1526,1821],[1537,1671],[1518,1652],[1540,1631],[1536,1560],[1520,1522],[1436,1549],[1338,1573],[1271,1558],[1230,1542],[1147,1461],[1095,1428],[1071,1458],[1062,1516],[1044,1538],[975,1526],[919,1536],[889,1576],[849,1676],[817,1724],[799,1732],[759,1725],[711,1776],[671,1794],[651,1865],[617,1885],[611,1915],[606,2071],[647,2143],[674,2207],[668,2250],[733,2329],[818,2404],[882,2507],[897,2544],[953,2602],[1026,2635],[1100,2681],[1146,2696],[1170,2693],[1223,2756],[1320,2837],[1396,2882],[1430,2944],[1508,2972],[1538,3023],[1574,3057],[1626,3071],[1667,3094],[1691,3091],[1799,3117],[1820,3190],[1884,3221],[1888,3244],[1914,3281],[1942,3303],[1967,3307],[2009,3334],[2023,3365],[2049,3385],[2092,3445],[2155,3499],[2204,3524],[2225,3588],[2263,3608],[2289,3640],[2326,3725],[2352,3719],[2368,3691],[2416,3670],[2434,3619],[2437,3579],[2467,3566],[2489,3523],[2512,3505],[2507,3473],[2557,3446],[2607,3477],[2632,3508],[2643,3541],[2635,3563],[2699,3623],[2771,3654],[2789,3687],[2806,3753],[2843,3785],[2925,3839],[2942,3872],[2972,3845],[2998,3861],[3046,3871],[3122,3854]]]}},{"type":"Feature","id":"NZ.OT","properties":{"hc-group":"admin1","hc-middle-x":0.44,"hc-middle-y":0.4,"hc-key":"nz-ot","hc-a2":"OT","labelrank":"6","hasc":"NZ.OT","alt-name":"? T?kou","woe-id":"15021754","subregion":null,"fips":"NZF7","postal-code":"OT","name":"Otago","country":"New Zealand","type-en":"Regional Council","region":"South Island","longitude":"169.887","woe-name":"Otago","latitude":"-45.4296","woe-label":"Otago, NZ, New Zealand","type":"Regional Council"},"geometry":{"type":"Polygon","coordinates":[[[668,2250],[674,2207],[647,2143],[606,2071],[611,1915],[617,1885],[651,1865],[671,1794],[711,1776],[759,1725],[799,1732],[817,1724],[849,1676],[889,1576],[919,1536],[975,1526],[1044,1538],[1062,1516],[1071,1458],[1095,1428],[1147,1461],[1230,1542],[1271,1558],[1338,1573],[1436,1549],[1520,1522],[1478,1429],[1419,1365],[1391,1300],[1367,1208],[1384,1173],[1359,1138],[1363,1111],[1330,1074],[1322,1041],[1305,1048],[1314,1017],[1268,1001],[1289,985],[1277,956],[1239,934],[1239,916],[1276,915],[1311,892],[1302,875],[1266,862],[1236,834],[1205,787],[1275,823],[1296,858],[1321,880],[1329,816],[1294,801],[1283,780],[1172,765],[1126,748],[1088,717],[1050,653],[1039,583],[1007,548],[967,526],[937,485],[865,429],[848,402],[842,333],[811,313],[765,320],[742,310],[793,306],[784,279],[732,243],[695,252],[650,221],[662,205],[614,205],[605,187],[562,198],[532,173],[507,170],[498,202],[498,243],[510,296],[487,325],[469,400],[481,466],[480,516],[454,579],[447,625],[416,669],[409,738],[398,774],[372,798],[362,854],[370,934],[400,1005],[433,1106],[455,1128],[444,1160],[391,1214],[371,1224],[347,1210],[292,1120],[269,1108],[229,1116],[146,1235],[53,1185],[-4,1180],[-32,1193],[-43,1237],[-73,1297],[-77,1320],[-61,1386],[-63,1401],[-95,1413],[-139,1469],[-151,1523],[-141,1553],[-139,1643],[-120,1731],[-85,1790],[-56,1817],[12,1828],[117,1886],[168,1904],[199,1947],[219,2017],[259,2055],[288,2103],[339,2138],[424,2150],[461,2163],[503,2145],[601,2210],[628,2256],[668,2250]]]}},{"type":"Feature","id":"NZ.MW","properties":{"hc-group":"admin1","hc-middle-x":0.43,"hc-middle-y":0.48,"hc-key":"nz-mw","hc-a2":"MW","labelrank":"6","hasc":"NZ.MW","alt-name":"Manawatu Whanganui|Wanganui-Mawanatu","woe-id":"15021764","subregion":null,"fips":"NZF3","postal-code":"MW","name":"Manawatu-Wanganui","country":"New Zealand","type-en":"Regional Council","region":"North Island","longitude":"175.627","woe-name":"Manawatu-Wanganui","latitude":"-39.8518","woe-label":"Manawatu Wanganui, NZ, New Zealand","type":"Regional Council"},"geometry":{"type":"Polygon","coordinates":[[[4656,4956],[4644,4933],[4603,4933],[4567,4879],[4531,4845],[4505,4789],[4483,4775],[4444,4697],[4407,4735],[4354,4749],[4275,4755],[4069,4732],[3976,4724],[3928,4743],[3884,4732],[3808,4736],[3729,4725],[3776,4815],[3805,4895],[3812,4970],[3828,4975],[3822,5010],[3837,5074],[3840,5112],[3827,5138],[3811,5230],[3795,5268],[3751,5316],[3739,5338],[3687,5401],[3613,5444],[3572,5447],[3589,5477],[3672,5546],[3675,5577],[3706,5593],[3697,5607],[3708,5677],[3695,5724],[3651,5772],[3650,5831],[3611,5857],[3630,5905],[3671,5929],[3684,5956],[3736,6021],[3761,6024],[3743,6048],[3703,6059],[3695,6102],[3658,6124],[3645,6189],[3624,6180],[3603,6236],[3623,6269],[3646,6279],[3690,6299],[3710,6361],[3748,6368],[3800,6390],[3863,6385],[3912,6413],[3930,6438],[3940,6428],[4027,6435],[4072,6408],[4109,6424],[4116,6415],[4088,6374],[4065,6317],[4043,6285],[4070,6248],[4058,6205],[4073,6172],[4062,6122],[4083,6109],[4122,6110],[4122,6093],[4096,6039],[4108,6011],[4100,5976],[4071,5916],[4073,5886],[4124,5869],[4204,5864],[4228,5875],[4254,5928],[4286,5944],[4307,5970],[4379,5969],[4431,5974],[4432,5938],[4449,5909],[4489,5896],[4500,5854],[4481,5812],[4511,5791],[4499,5748],[4500,5704],[4449,5683],[4399,5632],[4425,5566],[4383,5443],[4360,5319],[4383,5301],[4421,5301],[4464,5263],[4482,5256],[4486,5225],[4511,5195],[4507,5147],[4522,5105],[4517,5032],[4553,4997],[4616,4989],[4656,4956]]]}},{"type":"Feature","id":"NZ.GI","properties":{"hc-group":"admin1","hc-middle-x":0.55,"hc-middle-y":0.53,"hc-key":"nz-gi","hc-a2":"GI","labelrank":"7","hasc":"NZ.GI","alt-name":"T?ranga nui a Kiwa|East Coast","woe-id":"15021761","subregion":null,"fips":"NZF1","postal-code":"GI","name":"Gisborne District","country":"New Zealand","type-en":"Unitary Authority","region":"North Island","longitude":"177.93","woe-name":"Gisborne","latitude":"-38.3442","woe-label":"Gisborne, NZ, New Zealand","type":"Unitary Authority"},"geometry":{"type":"Polygon","coordinates":[[[5633,7150],[5755,7137],[5792,7090],[5833,7082],[5852,7067],[5895,7057],[5917,7034],[5924,7005],[5881,6957],[5857,6903],[5834,6889],[5804,6825],[5781,6794],[5795,6733],[5791,6713],[5761,6683],[5774,6650],[5749,6591],[5773,6551],[5755,6525],[5744,6489],[5760,6460],[5728,6437],[5722,6381],[5650,6309],[5574,6253],[5536,6281],[5496,6268],[5513,6222],[5495,6177],[5492,6137],[5474,6070],[5456,6101],[5429,6107],[5367,6167],[5273,6286],[5274,6345],[5222,6383],[5209,6343],[5084,6427],[5095,6446],[5091,6499],[5133,6526],[5207,6552],[5245,6597],[5252,6650],[5301,6664],[5349,6697],[5370,6729],[5376,6800],[5467,6729],[5494,6761],[5535,6881],[5570,6939],[5612,6989],[5607,7006],[5577,6995],[5563,7007],[5575,7065],[5569,7103],[5618,7119],[5633,7150]]]}},{"type":"Feature","id":"NZ.HB","properties":{"hc-group":"admin1","hc-middle-x":0.29,"hc-middle-y":0.48,"hc-key":"nz-hb","hc-a2":"HB","labelrank":"6","hasc":"NZ.HB","alt-name":"Te Matau a M?ui|Hawkes Bay","woe-id":"15021760","subregion":null,"fips":"NZF2","postal-code":"HB","name":"Hawke's Bay","country":"New Zealand","type-en":"Regional Council","region":"North Island","longitude":"176.605","woe-name":"Hawke's Bay","latitude":"-39.5434","woe-label":"Hawke's Bay, NZ, New Zealand","type":"Regional Council"},"geometry":{"type":"Polygon","coordinates":[[[5474,6070],[5470,6011],[5451,5974],[5492,5968],[5518,5937],[5484,5905],[5461,5842],[5434,5817],[5417,5890],[5422,5925],[5440,5966],[5412,5961],[5379,5982],[5188,5999],[5170,6009],[5153,5996],[4956,5911],[4929,5854],[4874,5799],[4854,5760],[4852,5724],[4874,5686],[4879,5586],[4922,5554],[4972,5549],[4948,5499],[4919,5485],[4898,5409],[4874,5388],[4852,5321],[4826,5271],[4823,5232],[4787,5163],[4762,5130],[4730,5105],[4714,5118],[4692,5093],[4684,5065],[4704,5080],[4663,5004],[4656,4956],[4616,4989],[4553,4997],[4517,5032],[4522,5105],[4507,5147],[4511,5195],[4486,5225],[4482,5256],[4464,5263],[4421,5301],[4383,5301],[4360,5319],[4383,5443],[4425,5566],[4399,5632],[4449,5683],[4500,5704],[4499,5748],[4511,5791],[4481,5812],[4500,5854],[4489,5896],[4449,5909],[4432,5938],[4431,5974],[4462,6010],[4501,5970],[4547,5953],[4550,5980],[4583,5994],[4578,6042],[4609,6078],[4693,6082],[4687,6116],[4752,6194],[4759,6273],[4806,6310],[4858,6322],[4892,6300],[4924,6294],[4953,6337],[5009,6376],[5038,6385],[5057,6417],[5084,6427],[5209,6343],[5222,6383],[5274,6345],[5273,6286],[5367,6167],[5429,6107],[5456,6101],[5474,6070]]]}},{"type":"Feature","id":"NZ.BP","properties":{"hc-group":"admin1","hc-middle-x":0.49,"hc-middle-y":0.55,"hc-key":"nz-bp","hc-a2":"BP","labelrank":"6","hasc":"NZ.BP","alt-name":"Te Moana a Toi Te Huatahi","woe-id":"15021753","subregion":null,"fips":"NZE8","postal-code":"BP","name":"Bay of Plenty","country":"New Zealand","type-en":"Regional Council","region":"North Island","longitude":"176.858","woe-name":"Bay of Plenty","latitude":"-38.2161","woe-label":"Bay of Plenty, NZ, New Zealand","type":"Regional Council"},"geometry":{"type":"Polygon","coordinates":[[[5084,6427],[5057,6417],[5038,6385],[5009,6376],[4953,6337],[4924,6294],[4892,6300],[4858,6322],[4806,6310],[4759,6273],[4752,6194],[4687,6116],[4693,6082],[4609,6078],[4578,6042],[4583,5994],[4550,5980],[4547,5953],[4501,5970],[4462,6010],[4491,6057],[4482,6127],[4440,6135],[4424,6150],[4388,6222],[4399,6265],[4451,6247],[4475,6262],[4440,6321],[4463,6383],[4454,6395],[4370,6428],[4370,6461],[4388,6465],[4417,6501],[4456,6463],[4496,6467],[4525,6482],[4539,6472],[4520,6420],[4557,6418],[4580,6458],[4616,6439],[4629,6460],[4645,6520],[4625,6566],[4534,6611],[4504,6672],[4495,6754],[4460,6794],[4416,6802],[4385,6828],[4379,6849],[4339,6863],[4325,6909],[4331,6943],[4311,6974],[4305,7037],[4259,7143],[4250,7188],[4257,7218],[4243,7242],[4256,7264],[4293,7247],[4281,7270],[4309,7308],[4313,7337],[4338,7346],[4364,7275],[4415,7228],[4461,7145],[4432,7167],[4394,7179],[4420,7188],[4369,7232],[4325,7229],[4336,7185],[4356,7180],[4355,7143],[4396,7142],[4409,7109],[4436,7098],[4452,7115],[4475,7101],[4478,7071],[4505,7074],[4482,7146],[4502,7138],[4522,7098],[4628,7042],[4671,7032],[4789,6938],[4888,6901],[4929,6894],[4961,6871],[5018,6861],[5040,6847],[5001,6842],[5045,6814],[5049,6846],[5077,6835],[5117,6833],[5225,6842],[5300,6887],[5329,6917],[5347,6967],[5373,6980],[5420,7065],[5506,7082],[5530,7112],[5579,7122],[5581,7159],[5633,7150],[5618,7119],[5569,7103],[5575,7065],[5563,7007],[5577,6995],[5607,7006],[5612,6989],[5570,6939],[5535,6881],[5494,6761],[5467,6729],[5376,6800],[5370,6729],[5349,6697],[5301,6664],[5252,6650],[5245,6597],[5207,6552],[5133,6526],[5091,6499],[5095,6446],[5084,6427]]]}},{"type":"Feature","id":"NZ.3315","properties":{"hc-group":"admin1","hc-middle-x":0.92,"hc-middle-y":0.24,"hc-key":"nz-3315","hc-a2":"NC","labelrank":"9","hasc":"NZ.NE","alt-name":"Whakat?","woe-id":"15021758","subregion":null,"fips":null,"postal-code":null,"name":"Nelson City","country":"New Zealand","type-en":"Unitary Authority","region":"South Island","longitude":"173.388","woe-name":"Nelson","latitude":"-41.2508","woe-label":"Nelson, NZ, New Zealand","type":"Unitary Authority"},"geometry":{"type":"Polygon","coordinates":[[[2628,4340],[2686,4378],[2718,4420],[2782,4476],[2781,4455],[2819,4478],[2864,4535],[2849,4464],[2798,4403],[2747,4325],[2720,4299],[2686,4280],[2642,4311],[2628,4340]]]}},{"type":"Feature","id":"NZ.3316","properties":{"hc-group":"admin1","hc-middle-x":0.55,"hc-middle-y":0.59,"hc-key":"nz-3316","hc-a2":"TD","labelrank":"6","hasc":"NZ.TS","alt-name":null,"woe-id":"15021757","subregion":null,"fips":"NZ00","postal-code":null,"name":"Tasman District","country":"New Zealand","type-en":"Unitary Authority","region":"South Island","longitude":"172.675","woe-name":"Tasman","latitude":"-41.6713","woe-label":"Tasman, NZ, New Zealand","type":"Unitary Authority"},"geometry":{"type":"Polygon","coordinates":[[[2686,4280],[2675,4212],[2661,4177],[2621,4168],[2518,4033],[2485,4003],[2447,3939],[2429,3860],[2371,3786],[2352,3719],[2326,3725],[2289,3640],[2263,3608],[2225,3588],[2201,3586],[2183,3567],[2154,3610],[2134,3683],[2082,3699],[2067,3724],[2028,3730],[2015,3787],[1992,3807],[1982,3841],[1989,3879],[2002,3891],[2016,3941],[2008,3980],[2018,4009],[2048,4029],[2083,4039],[2091,4077],[2122,4096],[2150,4183],[2177,4203],[2181,4249],[2204,4258],[2236,4252],[2276,4287],[2282,4344],[2277,4371],[2318,4387],[2345,4412],[2340,4429],[2284,4454],[2240,4491],[2216,4535],[2201,4544],[2149,4541],[2126,4530],[2127,4565],[2145,4606],[2083,4690],[2072,4749],[2084,4749],[2147,4797],[2205,4870],[2253,4903],[2243,4869],[2285,4887],[2300,4907],[2292,4924],[2260,4913],[2283,4942],[2310,4956],[2426,4963],[2518,4946],[2505,4940],[2378,4950],[2357,4924],[2339,4850],[2321,4850],[2345,4820],[2341,4771],[2358,4782],[2386,4739],[2444,4697],[2498,4729],[2514,4748],[2530,4735],[2533,4690],[2558,4666],[2554,4608],[2518,4566],[2538,4566],[2558,4471],[2542,4492],[2538,4464],[2554,4434],[2564,4443],[2581,4381],[2566,4360],[2593,4339],[2628,4340],[2642,4311],[2686,4280]]]}},{"type":"Feature","id":"NZ.NO","properties":{"hc-group":"admin1","hc-middle-x":0.68,"hc-middle-y":0.57,"hc-key":"nz-no","hc-a2":"NO","labelrank":"6","hasc":"NZ.NO","alt-name":"Te Tai tokerau","woe-id":"15021755","subregion":null,"fips":"NZF6","postal-code":"NO","name":"Northland","country":"New Zealand","type-en":"Regional Council","region":"North Island","longitude":"173.981","woe-name":"Northland","latitude":"-35.5874","woe-label":"Northland, NZ, New Zealand","type":"Regional Council"},"geometry":{"type":"Polygon","coordinates":[[[3462,8245],[3397,8219],[3363,8194],[3330,8219],[3370,8205],[3414,8319],[3390,8326],[3393,8303],[3369,8256],[3345,8265],[3341,8283],[3314,8290],[3322,8332],[3292,8311],[3286,8333],[3258,8312],[3264,8289],[3292,8284],[3300,8251],[3319,8261],[3342,8237],[3300,8217],[3270,8237],[3232,8291],[3191,8295],[3143,8335],[3135,8391],[3110,8433],[3084,8457],[3113,8489],[3089,8525],[3098,8482],[3071,8457],[3107,8403],[3120,8395],[3132,8343],[3149,8310],[3170,8297],[3225,8215],[3251,8211],[3244,8195],[3269,8156],[3264,8140],[3222,8117],[3192,8117],[3177,8144],[3158,8218],[3078,8330],[3056,8375],[2776,8757],[2777,8784],[2798,8812],[2809,8860],[2833,8875],[2861,8848],[2864,8890],[2881,8864],[2887,8906],[2920,8917],[2937,8955],[2894,8937],[2877,8985],[2866,8974],[2881,8933],[2812,8895],[2801,8909],[2777,8896],[2766,8802],[2753,8800],[2699,8875],[2695,8909],[2717,8933],[2699,8934],[2721,8965],[2690,8950],[2677,8912],[2647,8949],[2682,8981],[2643,8970],[2624,8982],[2584,9028],[2580,9053],[2613,9049],[2634,9077],[2648,9153],[2640,9192],[2611,9252],[2561,9308],[2542,9358],[2522,9372],[2393,9543],[2313,9597],[2330,9623],[2331,9650],[2356,9635],[2409,9624],[2456,9650],[2529,9643],[2561,9661],[2571,9650],[2547,9623],[2545,9565],[2529,9561],[2514,9603],[2496,9606],[2489,9570],[2461,9550],[2488,9528],[2523,9515],[2523,9471],[2538,9489],[2543,9542],[2566,9429],[2634,9356],[2640,9324],[2596,9371],[2598,9344],[2625,9317],[2709,9267],[2688,9227],[2687,9196],[2721,9185],[2754,9222],[2747,9298],[2775,9306],[2809,9339],[2805,9312],[2831,9323],[2839,9297],[2787,9286],[2776,9271],[2800,9221],[2823,9204],[2868,9205],[2891,9185],[2900,9201],[2879,9226],[2885,9252],[2909,9232],[2932,9237],[2939,9220],[2984,9225],[2994,9197],[3017,9190],[2979,9146],[3001,9121],[3017,9125],[3034,9188],[3084,9194],[3099,9168],[3134,9136],[3146,9103],[3203,9103],[3233,9088],[3250,9053],[3216,9048],[3211,9071],[3189,9077],[3167,9064],[3185,9041],[3163,9038],[3171,9019],[3211,9025],[3210,8982],[3238,8948],[3246,8909],[3257,8940],[3283,8929],[3307,8952],[3255,8970],[3262,8985],[3309,8981],[3375,9038],[3379,9019],[3361,8970],[3376,8944],[3404,8943],[3407,8895],[3360,8939],[3393,8869],[3449,8841],[3466,8805],[3442,8802],[3507,8732],[3503,8688],[3448,8696],[3492,8661],[3472,8636],[3515,8604],[3511,8576],[3527,8540],[3510,8536],[3471,8567],[3459,8599],[3389,8584],[3385,8626],[3374,8643],[3368,8544],[3382,8536],[3396,8561],[3463,8552],[3470,8523],[3445,8494],[3455,8483],[3456,8430],[3503,8393],[3539,8377],[3536,8337],[3554,8317],[3543,8310],[3462,8245]]]}},{"type":"Feature","id":"NZ.TK","properties":{"hc-group":"admin1","hc-middle-x":0.54,"hc-middle-y":0.46,"hc-key":"nz-tk","hc-a2":"TK","labelrank":"6","hasc":"NZ.TK","alt-name":"Taranaki|New Plymouth","woe-id":"15021763","subregion":null,"fips":"NZF9","postal-code":"TK","name":"Taranaki","country":"New Zealand","type-en":"Regional Council","region":"North Island","longitude":"174.414","woe-name":"Taranaki","latitude":"-39.3382","woe-label":"Taranaki, NZ, New Zealand","type":"Regional Council"},"geometry":{"type":"Polygon","coordinates":[[[3646,6279],[3623,6269],[3603,6236],[3624,6180],[3645,6189],[3658,6124],[3695,6102],[3703,6059],[3743,6048],[3761,6024],[3736,6021],[3684,5956],[3671,5929],[3630,5905],[3611,5857],[3650,5831],[3651,5772],[3695,5724],[3708,5677],[3697,5607],[3706,5593],[3675,5577],[3672,5546],[3589,5477],[3572,5447],[3550,5447],[3502,5466],[3451,5474],[3375,5545],[3330,5615],[3306,5641],[3244,5669],[3143,5686],[3108,5698],[3028,5760],[2989,5814],[2974,5885],[2986,5957],[3004,5992],[3032,6013],[3094,6040],[3248,6135],[3262,6139],[3342,6132],[3397,6160],[3471,6235],[3480,6250],[3496,6336],[3538,6313],[3612,6309],[3646,6279]]]}},{"type":"Feature","id":"NZ.WC","properties":{"hc-group":"admin1","hc-middle-x":0.79,"hc-middle-y":0.43,"hc-key":"nz-wc","hc-a2":"WC","labelrank":"6","hasc":"NZ.WC","alt-name":"Te Taihau ? uru","woe-id":"15021752","subregion":null,"fips":"NZG3","postal-code":"WC","name":"West Coast","country":"New Zealand","type-en":"Regional Council","region":"South Island","longitude":"170.402","woe-name":"West Coast","latitude":"-43.362","woe-label":"West Coast, NZ, New Zealand","type":"Regional Council"},"geometry":{"type":"Polygon","coordinates":[[[2225,3588],[2204,3524],[2155,3499],[2092,3445],[2049,3385],[2023,3365],[2009,3334],[1967,3307],[1942,3303],[1914,3281],[1888,3244],[1884,3221],[1820,3190],[1799,3117],[1691,3091],[1667,3094],[1626,3071],[1574,3057],[1538,3023],[1508,2972],[1430,2944],[1396,2882],[1320,2837],[1223,2756],[1170,2693],[1146,2696],[1100,2681],[1026,2635],[953,2602],[897,2544],[882,2507],[818,2404],[733,2329],[668,2250],[628,2256],[601,2210],[503,2145],[461,2163],[424,2150],[339,2138],[288,2103],[259,2055],[219,2017],[199,1947],[168,1904],[117,1886],[12,1828],[-56,1817],[-37,1911],[-75,1968],[-115,1987],[-172,1972],[-191,1988],[-156,2006],[-104,2056],[-66,2104],[-65,2126],[-37,2156],[-53,2166],[3,2180],[41,2197],[97,2232],[128,2202],[155,2199],[215,2231],[247,2267],[335,2335],[339,2355],[374,2379],[394,2405],[454,2446],[496,2465],[523,2496],[547,2497],[607,2535],[642,2533],[690,2567],[730,2639],[750,2650],[754,2677],[777,2702],[850,2743],[861,2776],[890,2812],[939,2840],[965,2830],[1000,2889],[981,2892],[943,2845],[953,2879],[985,2914],[990,2932],[1032,2936],[1069,2981],[1115,3013],[1165,3032],[1186,3051],[1219,3056],[1257,3087],[1287,3129],[1306,3144],[1353,3230],[1387,3252],[1452,3341],[1491,3426],[1508,3451],[1512,3494],[1539,3537],[1551,3572],[1564,3686],[1584,3757],[1611,3796],[1626,3862],[1650,3932],[1638,3945],[1637,3981],[1736,3990],[1818,4038],[1837,4060],[1859,4062],[1887,4108],[1931,4217],[1982,4257],[1990,4339],[2021,4352],[2006,4383],[1999,4468],[2007,4502],[1998,4664],[2016,4672],[2045,4727],[2072,4749],[2083,4690],[2145,4606],[2127,4565],[2126,4530],[2149,4541],[2201,4544],[2216,4535],[2240,4491],[2284,4454],[2340,4429],[2345,4412],[2318,4387],[2277,4371],[2282,4344],[2276,4287],[2236,4252],[2204,4258],[2181,4249],[2177,4203],[2150,4183],[2122,4096],[2091,4077],[2083,4039],[2048,4029],[2018,4009],[2008,3980],[2016,3941],[2002,3891],[1989,3879],[1982,3841],[1992,3807],[2015,3787],[2028,3730],[2067,3724],[2082,3699],[2134,3683],[2154,3610],[2183,3567],[2201,3586],[2225,3588]]]}}]},"name":"Nueva Zelanda","borderColor":"blue"},{"data":[{"name":"Weka,surgido en la Universidad de Waikato, Hamilton.","lat":-37.78333,"lon":175.28333}],"type":"mappoint","showInLegend":false,"name":"Weka","maxSize":2,"dataLabels":{"enabled":false},"tooltip":{"pointFormat":"{point.name}"},"marker":{"symbol":"url(archivos/wekalogochico.png)"}},{"data":[{"name":"R, surgido en la Universidad de Auckland ,Auckland.","lat":-36.84853,"lon":174.76349}],"type":"mappoint","showInLegend":false,"name":"R","maxSize":2,"dataLabels":{"enabled":false},"tooltip":{"pointFormat":"{point.name}"},"marker":{"symbol":"url(archivos/Rlogochico.png)"}}],"legend":{"align":"left","verticalAlign":"top","layout":"vertical","floating":true,"margin":0}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","drillUpText":"Back to {series.name}","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"thousandsSep":" ","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"map","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>


---

layout:false
class: bottom hide-slide-number
background-image: url("archivos/wekasandwich.jpg")
background-size: cover

.column.slide-in-left[
.font5[.white[Conociendo a Weka]]]
.column[
]

---

layout: true

&lt;div class="my-header"&gt;&lt;/div&gt;

&lt;div class="my-footer"&gt;&lt;/div&gt;&lt;span&gt;
.footnote[ <span class="faa-parent animated-hover">&lt;i class="fab  fa-twitter faa-wrench " style=" color:skyblue;"&gt;&lt;/i&gt;</span> .white[@Nahuel_Sef] .white[-------Sígueme-------]  <span class="faa-parent animated-hover">&lt;i class="fab  fa-github faa-wrench " style=" color:skyblue;"&gt;&lt;/i&gt;</span> .white[@NahuelBargas]]
&lt;/span&gt;

---

## Características

- .bold[Weka]([Witten and Frank (2005)](#bib-Weka)) está escrito en .red[Java], y permite realizar una serie de tareas relacionadas
con el aprendisaje autómatico, comprendiendo el *procesamiento de la información* ,*algoritmos de clasificación*,
*regresión*, *análisis de clústeres* y *selección de atributos*.

- Su interface gráfica es aména, y permite realizar todo el análisis sin escribir ninguna línea de código,
aunque si se quiere tener un registro de cada paso dado, se puede utilizar el API de JAVA que provee [Weka](https://www.cs.waikato.ac.nz/~ml/weka/index.html).

- Al igual que **R**, complementa sus funciones básicas con otros programas que añaden interoperabilidad  con otros softwares(
cómo el propio R, Python, Spark, Hadoop, Jython, Groovy, entre otros) y mayor cantidad de algoritmos.

- Puede instalar la versión de Weka que desee pinchando [aquí](https://www.cs.waikato.ac.nz/ml/weka)

- Luego de configurar el programa correctamente, eche un vistazo en la documentación que se encuentra en la carpeta de instalación, allí podrá observar con detalle el funcionamiento y las especificaciones de los algoritmos, filtros, etc.



---

# Su funcionamiento desde R


- Gracias al wrapper .bold[RWeka]([Hornik, Buchta, and Zeileis (2009)](https://doi.org/10.1007/s00180-008-0119-7)) y al paquete .bold[rJava]([Urbanek (2019)](https://CRAN.R-project.org/package=rJava)), desde la consola de R podemos interactuar
con Weka, aplicar filtros, evaluar los modelos y graficar.




.full-width[.content-box-yellow[**Atención** Debe generarse una variable de sistema(¡En Windows!) *WEKA_HOME* que apunte a la carpeta wekafiles, el lugar en el cuál el sistema guarda la información de los paquetes instalados de WEKA.]]
 
-  Por ejemplo, para verificar los paquetes instalados en sus sistema por WEKA, usaríamos:

```r
RWeka::WPM("list-packages","installed") # Si nunca ha utilizado/instalado un paquete 
#           externo de WEKA, el comando no arrojará ningún resultado positivo.
```

.full-width[.content-box-red[ Si bien no es estrictamente necesario, recomiendo instalar Weka para corroborar los resultados que obtenemos en R, y poder utilizar funciones que no se encuentran incorporadas en RWeka.]]



---

class: split-10 


.column.slide-in-left[
.sliderbox.bottom.shade_main.center[
.font5[Conociendo los archivos "arff"]]]
.column[
]

---
layout: true

&lt;div class="my-header"&gt;&lt;/div&gt;

&lt;div class="my-footer"&gt;&lt;/div&gt;&lt;span&gt;
.footnote[ <span class="faa-parent animated-hover">&lt;i class="fab  fa-twitter faa-wrench " style=" color:skyblue;"&gt;&lt;/i&gt;</span> .white[@Nahuel_Sef] .white[-------Sígueme-------]  <span class="faa-parent animated-hover">&lt;i class="fab  fa-github faa-wrench " style=" color:skyblue;"&gt;&lt;/i&gt;</span> .white[@NahuelBargas]]
&lt;/span&gt;
---

# El archivo "vidrio.arff"

- 'Vidrio.arff' es casi idéntico a glass.arff, salvo que posee una traducción al castellano del atributo clase.
- Pero un momento, ¿Qué es un archivo .green["arff"]?.

- Es un tipo de formato por el cuál WEKA  relaciona distintos tipos de atributos.

- Los atributos son las variables, el conjunto de datos que nos ayudarán a armar el modelo.

- Los atributos pueden ser valores numéricos( tanto enteros cómo reales), nominales o presentarse en formato de cadena de texto.

- Si abrimos el archivo 'arff' con un bloc de notas, podemos observar que habitualmente se realizan comentarios sobre la base, que significa cada variable, la fuente de datos y demás, interponiendo el signo '%'.

- Posteriormente, se puede determinar la relación( habitualmente el nombre de la base), los atributos y los valores que toman los mismos.

- Las líneas siquientes a la expresión .green[@data] completan la base de datos conformando cada una las instancias, el número de observaciones por atributo.

- El dato faltante se indica con el signo de interrrogación .red[(?)].  

---

# El archivo "vidrio.arff -2- "

- El archivo "vidrio.arff" detalla que la base de datos consta de 10 atributos(incluyendo la clase) y 214 instancias.

- Nuestra variable de interés, que señala la clase, es 'Tipo'.  Existen siete tipos de vidrios en la muestra,
aquellos usados para vajilla, para faros delanteros, para contenedores, a los que se les sometió a un proceso 
de flotado y se destino a ventanas para la construcción y vehículos, y aquellos que tuvieron el mismo destino pero
no requirieron dicho proceso.

- El resto de atributos corresponden al índice de refracción y a diversos elementos representados por sus nombres químicos.

- Los atributos no tienen datos faltantes.

---

# El archivo "vidrio.arff -3-"

- El archivo "vidrio.arff" es tan generoso que nos provee de los valores máximo, mínimo, la media y el desvío estandar
que posee cada atríbuto en un comentario, pero abramos la base en R y calculemos dichos valores por nuestra cuenta:


```r
datos&lt;-RWeka::read.arff("archivos/vidrio.arff")

resumen &lt;- function(x) c(min(x), mean(x), max(x), sd(x))

kable(data.frame("Val"=rbind("Mín.","Media","Máx.","DS."), 
       apply(datos[,1:9],2,resumen)),digits=2, align="c")
```



|  Val  |  RI  |  Na   |  Mg  |  Al  |  Si   |  K   |  Ca   |  Ba  |  Fe  |
|:-----:|:----:|:-----:|:----:|:----:|:-----:|:----:|:-----:|:----:|:----:|
| Mín.  | 1.51 | 10.73 | 0.00 | 0.29 | 69.81 | 0.00 | 5.43  | 0.00 | 0.00 |
| Media | 1.52 | 13.41 | 2.68 | 1.44 | 72.65 | 0.50 | 8.96  | 0.18 | 0.06 |
| Máx.  | 1.53 | 17.38 | 4.49 | 3.50 | 75.41 | 6.21 | 16.19 | 3.15 | 0.51 |
|  DS.  | 0.00 | 0.82  | 1.44 | 0.50 | 0.77  | 0.65 | 1.42  | 0.50 | 0.10 |
---

## ¿ Se ve mejor la tabla si aplicamos Stargazer?
- Por lo menos,nos ahorramos unos pasos...


```r
stargazer(datos, type="html", summary.stat=c("min","mean","max","sd"))
```


&lt;table style="text-align:center"&gt;&lt;tr&gt;&lt;td colspan="5" style="border-bottom: 1px solid black"&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style="text-align:left"&gt;Statistic&lt;/td&gt;&lt;td&gt;Min&lt;/td&gt;&lt;td&gt;Mean&lt;/td&gt;&lt;td&gt;Max&lt;/td&gt;&lt;td&gt;St. Dev.&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td colspan="5" style="border-bottom: 1px solid black"&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style="text-align:left"&gt;RI&lt;/td&gt;&lt;td&gt;1.511&lt;/td&gt;&lt;td&gt;1.518&lt;/td&gt;&lt;td&gt;1.534&lt;/td&gt;&lt;td&gt;0.003&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;Na&lt;/td&gt;&lt;td&gt;10.730&lt;/td&gt;&lt;td&gt;13.408&lt;/td&gt;&lt;td&gt;17.380&lt;/td&gt;&lt;td&gt;0.817&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;Mg&lt;/td&gt;&lt;td&gt;0.000&lt;/td&gt;&lt;td&gt;2.685&lt;/td&gt;&lt;td&gt;4.490&lt;/td&gt;&lt;td&gt;1.442&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;Al&lt;/td&gt;&lt;td&gt;0.290&lt;/td&gt;&lt;td&gt;1.445&lt;/td&gt;&lt;td&gt;3.500&lt;/td&gt;&lt;td&gt;0.499&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;Si&lt;/td&gt;&lt;td&gt;69.810&lt;/td&gt;&lt;td&gt;72.651&lt;/td&gt;&lt;td&gt;75.410&lt;/td&gt;&lt;td&gt;0.775&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;K&lt;/td&gt;&lt;td&gt;0.000&lt;/td&gt;&lt;td&gt;0.497&lt;/td&gt;&lt;td&gt;6.210&lt;/td&gt;&lt;td&gt;0.652&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;Ca&lt;/td&gt;&lt;td&gt;5.430&lt;/td&gt;&lt;td&gt;8.957&lt;/td&gt;&lt;td&gt;16.190&lt;/td&gt;&lt;td&gt;1.423&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;Ba&lt;/td&gt;&lt;td&gt;0.000&lt;/td&gt;&lt;td&gt;0.175&lt;/td&gt;&lt;td&gt;3.150&lt;/td&gt;&lt;td&gt;0.497&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style="text-align:left"&gt;Fe&lt;/td&gt;&lt;td&gt;0.000&lt;/td&gt;&lt;td&gt;0.057&lt;/td&gt;&lt;td&gt;0.510&lt;/td&gt;&lt;td&gt;0.097&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td colspan="5" style="border-bottom: 1px solid black"&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

---

# El archivo "vidrio.arff -4-"

## ¿ Cuantos tipos de vidrio hay en la muestra?

- 

<div id="htmlwidget-3a2158574168fc20631e" style="width:700px;height:450px;" class="highchart html-widget"></div>
<script type="application/json" data-for="htmlwidget-3a2158574168fc20631e">{"x":{"hc_opts":{"chart":{"reflow":true,"width":700,"height":450},"title":{"text":"N° de instancias por tipo de vidrio"},"yAxis":{"title":{"text":null}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"xAxis":{"categories":["c-vent-flot","c-vent-no-flot","v-vent-flot","v-vent-no-flot","contenedores","vajilla","faros delanteros"]},"series":[{"data":[{"name":"c-vent-flot","y":70},{"name":"c-vent-no-flot","y":76},{"name":"v-vent-flot","y":17},{"name":"v-vent-no-flot","y":0},{"name":"contenedores","y":13},{"name":"vajilla","y":9},{"name":"faros delanteros","y":29}],"type":"column","name":"Tipos de vidrio","tooltip":{"pointFormat":"Cantidad de instancias :{point.y}"}}],"subtitle":{"text":"Vidrio es un atributo de tipo nominal y tiene siete valores, pero sólo se cuenta información de seis."},"colors":["#21908CCC"]},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","drillUpText":"Back to {series.name}","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"thousandsSep":" ","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
---

layout:false
class: bg-main1 split-30 hide-slide-number

.column.bg-main3[
]
.column.slide-in-right[
.sliderbox.bg-main2.vmiddle[
.font5[Un ejemplo práctico]
]]

---

layout: true

&lt;div class="my-header"&gt;&lt;/div&gt;

&lt;div class="my-footer"&gt;&lt;/div&gt;&lt;span&gt;
.footnote[ <span class="faa-parent animated-hover">&lt;i class="fab  fa-twitter faa-wrench " style=" color:skyblue;"&gt;&lt;/i&gt;</span> .white[@Nahuel_Sef] .white[-------Sígueme-------]  <span class="faa-parent animated-hover">&lt;i class="fab  fa-github faa-wrench " style=" color:skyblue;"&gt;&lt;/i&gt;</span> .white[@NahuelBargas]]
&lt;/span&gt;

---

# Árbol de decisión: J48

- Uno de los algoritmos más populares en Weka para encarar un problema de clasificación es J48, el cuál genera un árbol de decisión de la familia del programa .bold[C4.5([Quinlan (1993)](#bib-Quinlan1993))], la última versión  abierta de un software tan exitoso que ahora tiene una licencia comercial. 

- Evaluemos el modelo de decisión dividiendo la base de entrenamiento en dos partes, quedándonos, arbitrariamente, con el 70% para armar el árbol y el porcentaje restante para testearlo.


```r
set.seed(1)

gen&lt;-sample(214,150)

train&lt;-datos[gen,]
test&lt;-datos[-gen,]


m1&lt;-J48(Tipo~.,data=train) 
e1&lt;-evaluate_Weka_classifier(m1, newdata = test) 

e1
```

---


```{.azul}

=== Summary ===

Correctly Classified Instances          40               62.5    %
Incorrectly Classified Instances        24               37.5    %
Kappa statistic                          0.482 
Mean absolute error                      0.1142
Root mean squared error                  0.3087
Relative absolute error                 55.0597 %
Root relative squared error             96.7429 %
Total Number of Instances               64     

=== Confusion Matrix ===

  a  b  c  d  e  f  g   &lt;-- classified as
 13  4  5  0  0  0  0 |  a = c-vent-flot
  5 14  1  0  2  0  0 |  b = c-vent-no-flot
  0  3  1  0  0  0  0 |  c = v-vent-flot
  0  0  0  0  0  0  0 |  d = v-vent-no-flot
  0  0  0  0  1  0  0 |  e = contenedores
  0  1  0  0  0  0  0 |  f = vajilla
  3  0  0  0  0  0 11 |  g = faros delanteros
```

---

# Árbol de decisión: J48 -2-

-  Esta vez usemos otro método de evaluación, tomando la base completa, dividiendola en diez partes con la misma cantidad de observaciones, de los cuáles una por vez se usara para testear el modelo formado por los nueve restantes,lo que se conoce cómo .blue['Cross-Validation'] con .bold[k=10], siendo k el número de subparticiones('folds').

- La ventaja de llevar a cabo el mencionado procedimiento proviene de la reducción de la varianza
 en la estimación del error sobre los datos testeados ([James, Witten, Hastie, et al. (2017b)](https://CRAN.R-project.org/package=ISLR)), que, en nuestro caso, comprendería  el número de observaciones mal clasificadas(37.5% en el ejemplo anterior).


```r
m2&lt;-J48(Tipo~.,data=datos)
e2&lt;-evaluate_Weka_classifier(m2,numFolds=10,seed=1)

e2
```

---


```{.azul}
=== 10 Fold Cross Validation ===

=== Summary ===

Correctly Classified Instances         143               66.8224 %
Incorrectly Classified Instances        71               33.1776 %
Kappa statistic                          0.55  
Mean absolute error                      0.1197
Root mean squared error                  0.3129
Relative absolute error                 48.536  %
Root relative squared error             89.2762 %
Total Number of Instances              214     

=== Confusion Matrix ===

  a  b  c  d  e  f   &lt;-- classified as
 50 15  3  0  1  1 |  a = c-vent-flot
 16 47  6  2  3  2 |  b = c-vent-no-flot
  5  5  6  0  1  0 |  c = v-vent-flot
  0  2  0 10  0  1 |  d = contenedores
  1  1  0  0  7  0 |  e = vajilla
  3  2  0  0  1 23 |  f = faros delanteros
```

---
# Características J48

## ¿Podar o no podar?



- ¿Que tál si no nos preocupa el tamaño final del árbol de decisión?



```r
m2U&lt;-J48(Tipo~.,data=datos, 
*   control=Weka_control(U=TRUE))
# control= Nos permite cambiar los parámetros que toma el clasificador

e2U&lt;-evaluate_Weka_classifier(m2U,numFolds=10,seed=1)

e2U
```

---


```{.azul}
=== 10 Fold Cross Validation ===

=== Summary ===

Correctly Classified Instances         144               67.2897 %
Incorrectly Classified Instances        70               32.7103 %
Kappa statistic                          0.5571
Mean absolute error                      0.1168
Root mean squared error                  0.3082
Relative absolute error                 47.3498 %
Root relative squared error             87.9266 %
Total Number of Instances              214     

=== Confusion Matrix ===

  a  b  c  d  e  f   &lt;-- classified as
 50 15  3  0  1  1 |  a = c-vent-flot
 16 47  6  2  3  2 |  b = c-vent-no-flot
  5  4  7  0  1  0 |  c = v-vent-flot
  0  2  0 10  0  1 |  d = contenedores
  1  1  0  0  7  0 |  e = vajilla
  3  2  0  0  1 23 |  f = faros delanteros
```



 
---
# Características J48 -2-

- Con el árbol sin podar, obtuvimos mejores resultados en términos de clasificación, pero debemos saber que al no podar,  el modelo generado se ajustará demasiado a los  datos de entrenamiento, por lo que podríamos perder potencia, una mayor tasa de error.

- La tasa de error en éste problema de clasificación sería la proporción de observaciones que no pertenecen a la clase más común del nodo.

- De la matriz de confusión subyace que todos los elementos por fuera de la diagonal principal se encuentran mal clasificados.

---

# Características J48 -3-

## Comparemos

- Podemos reducir el tamaño del árbol aumentando el número de instancias(o filas) por cada 'hoja' o 'nodo final', o modificando el parámetro de intervalo de confianza que utiliza el clasificador. 



```r
m2P8&lt;-J48(Tipo~.,data=datos,control=Weka_control(M=8)) 
#&lt;&lt; En la documentación, M es el número de instancias por 'hoja'.

e2P8&lt;-evaluate_Weka_classifier(m2P8,numFolds=10,seed=1)

e2P8
```
- Empeoramos en términos de clasificación, pero tenemos un árbol más chico, más simple a la hora de la interpretación.

- En terminos de predictivos, hay otros mecanismos supervisados que nos pueden otorgar mejores resultados. 

---


```{.azul}
=== 10 Fold Cross Validation ===

=== Summary ===

Correctly Classified Instances         141               65.8879 %
Incorrectly Classified Instances        73               34.1121 %
Kappa statistic                          0.5419
Mean absolute error                      0.138 
Root mean squared error                  0.2942
Relative absolute error                 55.9499 %
Root relative squared error             83.931  %
Total Number of Instances              214     

=== Confusion Matrix ===

  a  b  c  d  e  f   &lt;-- classified as
 47 19  2  0  1  1 |  a = c-vent-flot
 15 45  5  2  7  2 |  b = c-vent-no-flot
  7  4  5  0  1  0 |  c = v-vent-flot
  0  1  0 10  1  1 |  d = contenedores
  0  1  0  0  8  0 |  e = vajilla
  1  1  0  0  1 26 |  f = faros delanteros
```

---


# Visualización árbol de decisión

- La forma más rápida es vía el paquete .red["partykit"]:


```r
plot(m2P8) # visualmente poco atractivo.
```

- Al final de cada nodo finales u hojas, se observa el número de instancias totales que comprenden cada terminal y la cantidad que fue incorrectamente clasificada.

- El .bold[bario] es el primer atributo que toma el modelo a la hora de realizar la clasificación.

- Otra opción sería transformar el modelo en un archivo .bold[dot] mediante la función .green[write_to_dot] y copiando el archivo .bold[dot] a 'Graphviz':



```r
write_to_dot(m2P8) # y utilizarlo en Graphviz
```

---

&lt;div class="figure"&gt;
&lt;img src="inicio_files/figure-html/graf1s-1.png" alt=" Árbol de decisión usando 'partykit'" width="55%" height="10%" /&gt;
&lt;p class="caption"&gt; Árbol de decisión usando 'partykit'&lt;/p&gt;
&lt;/div&gt;


---



&lt;div class="figure"&gt;
&lt;img src="archivos/J48prun.png" alt=" Árbol de decisión usando RWeka::write_to_dot(m2P8) y copiando el archivo dot a 'Graphviz'" width="65%" height="30%" /&gt;
&lt;p class="caption"&gt; Árbol de decisión usando RWeka::write_to_dot(m2P8) y copiando el archivo dot a 'Graphviz'&lt;/p&gt;
&lt;/div&gt;



---

```r
library(rJava)  #Ejemplo tomado de la viñeta de RWeka

graphVisualizer &lt;-
function(file, width = 400, height = 400,
         title = substitute(file), ...)
{    ## Build the graph visualizer
    visualizer &lt;- .jnew("weka/gui/graphvisualizer/GraphVisualizer")
    reader &lt;- .jnew("java/io/FileReader", file)
    .jcall(visualizer, "V", "readDOT",
          .jcast(reader, "java/io/Reader"))
    .jcall(visualizer, "V", "layoutGraph")
    ## and put it into a frame.
    frame &lt;- .jnew("javax/swing/JFrame",
                   paste("graphVisualizer:", title))
    container &lt;- .jcall(frame, "Ljava/awt/Container;", "getContentPane")
    .jcall(container, "Ljava/awt/Component;", "add", 
           .jcast(visualizer, "java/awt/Component"))
    .jcall(frame, "V", "setSize", as.integer(width), as.integer(height))
    .jcall(frame, "V", "setVisible", TRUE)
}

write_to_dot(m2P8,"m2P8.dot")

graphVisualizer("m2P8.dot") # que desplegará el árbol resultante una nueva ventana
```
---

&lt;div class="figure"&gt;
&lt;img src="archivos/J48prunJava.png" alt=" Árbol de decisión vía Weka-GUI y Java" width="88%" height="50%" /&gt;
&lt;p class="caption"&gt; Árbol de decisión vía Weka-GUI y Java&lt;/p&gt;
&lt;/div&gt;
---

# Bagging

- Vamos a acabar ésta serie de ejemplos con métodos que nos permitirán aumentar la capacidad predictiva, a costa de una perdida en la interpretación, ya que no nos podremos quedar con un único árbol. 

- .bold[Bagging] utiliza .red[bootstrap], construyendo modelos de muestras con repetición de la base de entrenamiento y combinando las predicciones de cada uno a través un 'voto mayoritario' que señala una predicción general ,obteniendo de esta forma, una menor varianza en la estimación([James, Witten, Hastie, et al. (2017b)](https://CRAN.R-project.org/package=ISLR)).

- Corramos el "meta-clasificador" con J48 cómo *base-learner* y diez interacciones, éste último valor viene por default.

- Obtendremos una mejor tasa de clasificación con respecto al caso del modelo .green[m2].


```r
mbag &lt;- Bagging(Tipo~.,data=datos,
        control=Weka_control(W=list(J48))) 

ebag&lt;- evaluate_Weka_classifier(mbag,numFolds=10,seed=1)
```


---


```{.azul}
=== 10 Fold Cross Validation ===

=== Summary ===

Correctly Classified Instances         159               74.2991 %
Incorrectly Classified Instances        55               25.7009 %
Kappa statistic                          0.6509
Mean absolute error                      0.122 
Root mean squared error                  0.2541
Relative absolute error                 49.4821 %
Root relative squared error             72.482  %
Total Number of Instances              214     

=== Confusion Matrix ===

  a  b  c  d  e  f   &lt;-- classified as
 55 12  1  0  1  1 |  a = c-vent-flot
  9 55  5  3  2  2 |  b = c-vent-no-flot
  5  4  6  0  1  1 |  c = v-vent-flot
  0  1  0 11  0  1 |  d = contenedores
  0  1  0  0  8  0 |  e = vajilla
  2  3  0  0  0 24 |  f = faros delanteros
```



---

# Random Forest

- Es un método similar a Bagging pero, a diferencia, se otorga aleatoriedad al algoritmo, no a la base de entrenamiento.
- Con J48, se seleccionaba el mejor atributo para dividir las ramas. Aquí, entre algunas opciones,que están entre las mejores, se elige aleatoriamente una. 

- Vamos a construir el árbol con 100 interacciones, eligiendo entre 4 atributos o características principales por cada decisión que toma el modelo y con una "profundidad/ altura" ilimitada.





```r
*rforest&lt;-make_Weka_classifier("weka/classifiers/trees/RandomForest")
#creamos una conexión de R con el clasificador de Weka

mforest&lt;- rforest(Tipo~.,data=datos,
        control=Weka_control(K=4)) 

eforest&lt;- evaluate_Weka_classifier(mforest,numFolds=10,seed=1) 
```

---


```{.azul}
=== 10 Fold Cross Validation ===

=== Summary ===

Correctly Classified Instances         172               80.3738 %
Incorrectly Classified Instances        42               19.6262 %
Kappa statistic                          0.7301
Mean absolute error                      0.1157
Root mean squared error                  0.2282
Relative absolute error                 46.934  %
Root relative squared error             65.0862 %
Total Number of Instances              214     

=== Confusion Matrix ===

  a  b  c  d  e  f   &lt;-- classified as
 61  7  2  0  0  0 |  a = c-vent-flot
  8 62  2  2  1  1 |  b = c-vent-no-flot
  8  3  6  0  0  0 |  c = v-vent-flot
  0  1  0 11  0  1 |  d = contenedores
  0  1  0  0  8  0 |  e = vajilla
  1  3  0  1  0 24 |  f = faros delanteros
```


---

# Resúmen 

    
*  A lo largo de las slides he tocado diversos temas, con la profundidad que permite el espacio:

   + ¿ Qué es Weka? 

   + ¿Cómo se relaciona con R? ¿Cómo se lo implementa?

   + Estructura de los archivos ".arff"

   + Problemas de clasificación y un ejemplo práctico con el algoritmo J48.
 
   + Visualización de los árboles generados.

   + Random Forest y Bagging.


- Para ahondar más en los aspectos teóricos, puede revisar las referencias bibliográficas que se detallan a continuación.

- Los temas relacionados con WEKA son muchos, todavía queda un largo camino por recorrer. Aquí les he presentado un pequeño pantallazo.

- Encontré de mucha utilidad la serie de *MOOC* de Weka que se proveen en [.red[FutureLearn]]("https://www.futurelearn.com/programs/data-mining"), así que los interesados en conocer más sobre lo que el software brinda, no duden en realizarlos.


---



# Rerefencias 
 
&lt;a name=bib-RWEKA&gt;&lt;/a&gt;[Hornik, K, C. Buchta, and A.
Zeileis](#cite-RWEKA) (2009). "Open-Source Machine Learning: R Meets
Weka". In: _Computational Statistics_ 24.2, pp. 225-232. DOI:
[10.1007/s00180-008-0119-7](https://doi.org/10.1007%2Fs00180-008-0119-7).

&lt;a name=bib-ISLR&gt;&lt;/a&gt;[James, G, D. Witten, T. Hastie, et
al.](#cite-ISLR) (2017b). _ISLR: Data for an Introduction to
Statistical Learning with Applications in R_. R package version 1.2.
URL:
[https://CRAN.R-project.org/package=ISLR](https://CRAN.R-project.org/package=ISLR).

&lt;a name=bib-Quinlan1993&gt;&lt;/a&gt;[Quinlan, R.](#cite-Quinlan1993) (1993).
_C4.5: Programs for Machine Learning_. San Mateo, CA: Morgan Kaufmann
Publishers.

&lt;a name=bib-R-base&gt;&lt;/a&gt;[R Core Team](#cite-R-base) (2018). _R: A
Language and Environment for Statistical Computing_. R Foundation for
Statistical Computing. Vienna, Austria. URL:
[https://www.R-project.org/](https://www.R-project.org/).

&lt;a name=bib-rJava&gt;&lt;/a&gt;[Urbanek, S.](#cite-rJava) (2019). _rJava:
Low-Level R to Java Interface_. R package version 0.9-11. URL:
[https://CRAN.R-project.org/package=rJava](https://CRAN.R-project.org/package=rJava).

&lt;a name=bib-Weka&gt;&lt;/a&gt;[Witten, I. H. and E. Frank](#cite-Weka) (2005).
_Data Mining: Practical Machine Learning Tools and Techniques_. 2nd.
San Francisco: Morgan Kaufmann.

- Crédito de la imágen del áve weka : "https://phys.org/news/2019-09-weka-sandwich-stealing-scallywags-ecosystem.html" , recuperada el 16/11/2020.

---
layout:false
class:inverse

#  Contacto

- Pueden contactarme para cualquier &lt;a href="mailto:nahuelbargas@hotmail.com"&gt;sugerencia o comentario a mi correo electrónico.&lt;/a&gt;  O también vía:



&lt;style type="text/css"&gt;

/*
Pueden dirigirse a http://janhuenermann.github.io/social-circles/ para 
conocer cómo implementar los botones para redes sociales en su documento.
En mi caso, adapte la fuente y css provistas por el autor para utilizar Ionicons.
Ver fonts/ionicons.ttf y css/social-circles.min2.css en mi repositorio.
*/


ol { 
        list-style-type: none;
        padding: 0;margin: 0;
}

ol li { 
        display: inline-block;
        margin: 4px;
}

.social-button.borderless.static {
        padding: 0 16px;

}


&lt;/style&gt;


&lt;ol&gt;
	&lt;li&gt;&lt;a class="icon-linkedin social-button borderless static" href="https://linkedin.com/in/nahuel-bargas/"&gt;&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a class="icon-twitter social-button borderless static" href="https://twitter.com/Nahuel_Sef"&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a class="icon-github social-button borderless static" href="https://github.com/NahuelBargas"&gt;&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a class="icon-telegram social-button borderless static" href="https://telegram.me/Nahuel_Sef"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;






- El código para reproducir las slides lo podrán encontrar [.yellow[aquí]]("/inicio.Rmd") y si quieren una copia en .orange[pdf], visiten éste [enlace]("/RyWeka-Slides.pdf"). 


.Large[.green[¡ Muchas Gracias !]] 







    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="copiaremark/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"countIncrementalSlides": false,
"highlightStyle": "github",
"highlightLines": true
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
setInterval(function() {slideshow.gotoNextSlide();}, 30000);
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
